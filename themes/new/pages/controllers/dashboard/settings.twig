{% extends 'app.twig' %}

{% block title %}My Settings{% endblock %}

{% block bodyCss %}
    <style>
        .header, th.header {
            color: #fff;
            text-transform: uppercase;
            font-weight: 500;
            padding: 5px 10px;
            margin-left: -.5em;
            margin-right: -.5em;
            border-radius: .25em;
        }

        .columns > .column > .columns {
            margin-top: unset;
            margin-left: unset;
            margin-right: unset;
        }

        .checkbox:hover, .radio:hover {
            color: #bdbdbd;
        }

        .checkbox.is-custom input[type="checkbox"] {
            display: none;
        }

        .checkbox.is-custom:hover {
            color: inherit;
        }

        .checkbox.is-custom {
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .checkbox.is-custom .switch {
            position: relative;
            display: inline-block;
            height: 26px;
            width: 48px;
            border-radius: 20px;
            background-color: #4f585d;
            transition: background-color .2s;
        }

        .checkbox.is-custom .switch:before {
            position: absolute;
            top: 3px;
            left: 3px;
            content: '';
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: #fff;
            transition: .2s;
        }

        .checkbox.is-custom input[type="checkbox"]:checked + .switch {
            background-color: #6cbdff;
        }

        .checkbox.is-custom input[type="checkbox"]:checked + .switch:before {
            transform: translateX(21px);
        }
    </style>
{% endblock %}

{% block content %}
    <div class="container px-4 py-6" style="margin-top: 3em;">
        <form action="{{ site.current }}" method="post">
            {{ csrf }}
            <div class="columns is-multiline is-mobile">

                <div id="my-settings-theme-selection" class="column is-full-tablet is-half-desktop">
                    <div class="card">
                        <div class="card-header-title">Default Theme</div>
                        <div class="card-content">
                            <h1>theme selection goes here</h1>

                            <div class="has-text-centered">
                                <button class="button">Save</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="my-settings" class="column is-full-tablet is-half-desktop">
                    <div class="card quick-settings">
                        <div class="card-header-title">
                            My Settings
                        </div>
                        <div class="card-content">
                            <div class="columns is-multiline">
                                <div class="column is-full mb-2">
                                    <h1 class="header">Backgrounds</h1>
                                    <div class="pt-1 columns is-multiline">
                                        <div class="column is-half-tablet">
                                            <div class="field">
                                                <div class="field-body">
                                                    <label class="checkbox is-custom">
                                                        Enable?
                                                        <input type="checkbox" value="1" name="backgrounds[enable]"
                                                               {% if old.backgrounds.enable|default(settings.backgrounds.enable) %}checked{% endif %}>
                                                        <span class="switch"></span>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="column is-half-tablet">
                                            <div class="field">
                                                <div class="field-body">
                                                    <label class="checkbox is-custom">
                                                        Randomize?
                                                        <input type="checkbox" value="1" name="backgrounds[random]"
                                                               {% if old.backgrounds.random|default(settings.backgrounds.random) %}checked{% endif %}>
                                                        <span class="switch"></span>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="column is-half-tablet">
                                            <div class="field is-horizontal">
                                                <div class="field-label is-normal">
                                                    <label class="label">Duration</label>
                                                </div>
                                                <div class="field-body">
                                                    <input class="input" type="number" name="backgrounds[duration]"
                                                           value="{{ old.backgrounds.duration|default(settings.backgrounds.duration) }}">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="column is-half-tablet">
                                            <div class="field is-horizontal">
                                                <div class="field-label is-normal">
                                                    <label class="label">Fade</label>
                                                </div>
                                                <div class="field-body">
                                                    <input class="input" type="number" name="backgrounds[fade]"
                                                           value="{{ old.backgrounds.fade|default(settings.backgrounds.fade) }}">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="column is-full">
                                    <h1 class="header">Music</h1>
                                    <div class="pt-1 columns is-multiline">
                                        <div class="column is-half-tablet">
                                            <div class="field">
                                                <div class="field-body">
                                                    <label class="checkbox is-custom">
                                                        Enable?
                                                        <input type="checkbox" value="1" name="music[enable]"
                                                               {% if old.music.random|default(settings.music.random) %}checked{% endif %}>
                                                        <span class="switch"></span>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="column is-half-tablet">
                                            <div class="field">
                                                <div class="field-body">
                                                    <label class="checkbox is-custom">
                                                        Randomize?
                                                        <input type="checkbox" value="1" name="music[random]"
                                                               {% if old.music.random|default(settings.music.random) %}checked{% endif %}>
                                                        <span class="switch"></span>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="column is-full">
                                            <div class="field is-horizontal">
                                                <div class="field-label" style="text-align: left">
                                                    <label class="label">Volume</label>
                                                </div>
                                                <div class="field-body">
                                                    <input class="slider" type="range" name="music[volume]"
                                                           style="width: 100%"
                                                           value="{{ old.music.volume|default(settings.music.volume) }}">
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>

                            <div class="has-text-centered">
                                <button class="button">Save</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="my-settings-custom-css" class="column is-full">
                    <div class="card">
                        <div class="card-header-title">Custom CSS</div>
                        <div class="card-content">
                            <textarea class="textarea" style="width: 100%"></textarea>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
{% endblock %}